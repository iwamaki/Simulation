# 単結晶引張試験

## 概要
金って非常にやわらかい材料です。引っ張っているとき、原子的にどのようにふるまっているのだろう？
シミュレーションソフトを使い、原子レベルで結晶がどのように動いているのか調べたくなった。
比較として、よく知られる銀と銅についてもシミュレーションした。挙動に違いがみられそうだ。

## 環境
- **Python**: 3.12 (`.venv/` に仮想環境)
- **LAMMPS**: `/home/iwash/lammps/build/lmp` (ソースビルド版)
- **Quantum ESPRESSO**: `/home/iwash/qe/build/bin/` (v7.4, ソースビルド版)
- **Platform**: WSL2 (Ubuntu 24.04) on Windows
- **RunPod**: クラウドGPUによるリモート実行環境

使用したプログラム：simulations\single_crystal_tensile\single_crystal_tensile.py
  プログラムの概要
  　ase.build.bulk() で完全な周期結晶を構築し、fix deform (z軸) + fix npt (x,y側面ゼロ圧) で変形試験を行う。
  　結晶方位（Miller指数）でz軸＝負荷軸の結晶学的方向を指定する。

### 前実験（プログラムの妥当性評価_解析時間 ~2分程度）
シミュレーションにおいて、金が本当にやわらかくなるのかを確認した。
少ない原子スケール(6x6x6原子程度)で引張試験を行い、耐力を比較した。
また、金属は結晶なので特有の並びがいくつかあるので、代表的な{100},{110},{111}を引張軸とするように、結晶方向によって耐力がどのように変化することを確認した。

およその傾向として、銅>銀>金 の順で耐力が小さくなり、これは予想通りである。

シュミット測によれば、{111}が最も高い応力になり、{110}と{100}が同程度の応力値になると思われたが、いずれも、{110}が最も低い結果になった。これは予想外である。
原子数が少なすぎることやひずみ速度が速いことが結果に影響しているのだろうか？
この前実験では、{100}と{110}の違いについて、結果がよくわからなかったので、
より正確な実験になるように、原子スケール（境界ボックスサイズ）を大きくしたり、ひずみ速度を低下させたりする必要があると思われる。


### 前実験 実験結果
--- Summary (Sorted by name) ---
Cu111_tension_300K_L21.69_maxe1_hdrop2_tf100_df500_triclinicTrue: Max Stress = 12.055 GPa at Strain = 10.92%
Cu100_tension_300K_L21.69_maxe1_hdrop2_tf100_df500_triclinicTrue: Max Stress = 9.479 GPa at Strain = 13.80%
Cu110_tension_300K_L21.69_maxe1_hdrop2_tf100_df500_triclinicTrue: Max Stress = 6.114 GPa at Strain = 6.84%

--- Summary (Sorted by name) ---
Au111_tension_300K_a4.078_L24.47_maxe1_hdrop2_tf100_df500_triclinicTrue: Max Stress = 8.214 GPa at Strain = 9.04%
Au100_tension_300K_a4.078_L24.47_maxe1_hdrop2_tf100_df500_triclinicTrue: Max Stress = 3.394 GPa at Strain = 6.96%
Au110_tension_300K_a4.078_L24.47_maxe1_hdrop2_tf100_df500_triclinicTrue: Max Stress = 2.524 GPa at Strain = 5.38%

--- Summary (Sorted by name) ---
Ag111_tension_300K_a4.09_L24.54_maxe1_hdrop1.5_tf100_df500_triclinicTrue: Max Stress = 7.963 GPa at Strain = 8.58%
Ag100_tension_300K_a4.09_L24.54_maxe1_hdrop1.5_tf100_df500_triclinicTrue: Max Stress = 5.183 GPa at Strain = 8.70%
Ag110_tension_300K_a4.09_L24.54_maxe1_hdrop1.5_tf100_df500_triclinicTrue: Max Stress = 3.174 GPa at Strain = 5.92%

#### 前実験に使用したコマンド Cu
.venv/bin/python3 simulations/single_crystal_tensile/single_crystal_tensile.py --element Cu --lattice 3.615 --potential potentials/Cu_zhou.eam.alloy --pair-style eam/alloy --miller 1 0 0 --max-strain 1.0 --target-size 21.69 --triclinic --halt-drop 2.0

.venv/bin/python3 simulations/single_crystal_tensile/single_crystal_tensile.py --element Cu --lattice 3.615 --potential potentials/Cu_zhou.eam.alloy --pair-style eam/alloy --miller 1 1 0 --max-strain 1.0 --target-size 21.69 --triclinic --halt-drop 2.0

.venv/bin/python3 simulations/single_crystal_tensile/single_crystal_tensile.py --element Cu --lattice 3.615 --potential potentials/Cu_zhou.eam.alloy --pair-style eam/alloy --miller 1 1 1 --max-strain 1.0 --target-size 21.69 --triclinic --halt-drop 2.0

#### 前実験に使用したコマンド Ag
.venv/bin/python3 simulations/single_crystal_tensile/single_crystal_tensile.py --element Ag  --lattice 4.09 --potential potentials/Ag_u3.eam --pair-style eam --miller 1 0 0 --max-strain 1.0 --target-size 24.54  --triclinic --halt-drop 2.0

.venv/bin/python3 simulations/single_crystal_tensile/single_crystal_tensile.py --element Ag  --lattice 4.09 --potential potentials/Ag_u3.eam --pair-style eam --miller 1 1 0 --max-strain 1.0 --target-size 24.54  --triclinic --halt-drop 2.0

.venv/bin/python3 simulations/single_crystal_tensile/single_crystal_tensile.py --element Ag  --lattice 4.09 --potential potentials/Ag_u3.eam --pair-style eam --miller 1 1 1 --max-strain 1.0 --target-size 24.54  --triclinic --halt-drop 2.0

#### 前実験に使用したコマンド Au
.venv/bin/python3 simulations/single_crystal_tensile/single_crystal_tensile.py --element Au --lattice 4.078 --potential potentials/Au_u3.eam --pair-style eam --miller 1 0 0 --max-strain 1.0 --target-size 24.47  --triclinic --halt-drop 2.0

.venv/bin/python3 simulations/single_crystal_tensile/single_crystal_tensile.py --element Au --lattice 4.078 --potential potentials/Au_u3.eam --pair-style eam --miller 1 1 0 --max-strain 1.0 --target-size 24.47  --triclinic --halt-drop 2.0

.venv/bin/python3 simulations/single_crystal_tensile/single_crystal_tensile.py --element Au --lattice 4.078 --potential potentials/Au_u3.eam --pair-style eam --miller 1 1 1 --max-strain 1.0 --target-size 24.47  --triclinic --halt-drop 2.0

### 本番実験

#### 前実験からの改善点
前実験では以下の問題があった：
1. **原子数が少なすぎる（864個）** → 熱揺らぎが大きく、応力-ひずみ曲線のS/N比が悪い。特にAuの{100},{110}は弾性域すら明瞭でなかった。
2. **ひずみ速度が速い（0.001 /ps = 10^9 /s）** → 転位核生成のタイミングに影響しうる。

これらを踏まえ、本番実験では以下のように条件を変更する：

| パラメータ | 前実験 | 本番実験 | 変更理由 |
|---|---|---|---|
| target_size | ~22-24 Å | **50 Å** | 原子数を増加。揺らぎを低減 |
| ひずみ速度 | 0.001 /ps | **0.0005 /ps** | より準静的な条件に近づける |
| 実行環境 | ローカルCPU | **RunPod GPU** | 大規模系の計算を高速化 |

その他の条件は前実験から変更なし（温度300K、triclinic有効、halt-drop 2.0 GPa）。

#### 本番実験条件
- **材料**: Cu, Ag, Au（3種）
- **方位**: {100}（まず1方位で実施）
- **target_size**: 50 Å
- **ひずみ速度**: 0.0005 /ps (5×10^8 /s)
- **温度**: 300 K
- **max_strain**: 0.30
- **halt-drop**: 2.0 GPa
- **triclinic**: 有効
- **実行環境**: RunPod GPU

#### 本番実験コマンド（{hkl}= {100},{110},{111}）

```bash
# Cu
.venv/bin/python3 simulations/single_crystal_tensile/single_crystal_tensile.py \
  --element Cu --lattice 3.615 --potential potentials/Cu_zhou.eam.alloy --pair-style eam/alloy \
  --miller h k l --target-size 50 --erate 0.0005 --max-strain 0.30 \
  --triclinic --halt-drop 2.0 --runpod --gpu

# Ag
.venv/bin/python3 simulations/single_crystal_tensile/single_crystal_tensile.py \
  --element Ag --lattice 4.09 --potential potentials/Ag_u3.eam --pair-style eam \
  --miller h k l --target-size 50 --erate 0.0005 --max-strain 0.30 \
  --triclinic --halt-drop 2.0 --runpod --gpu

# Au
.venv/bin/python3 simulations/single_crystal_tensile/single_crystal_tensile.py \
  --element Au --lattice 4.078 --potential potentials/Au_u3.eam --pair-style eam \
  --miller h k l --target-size 50 --erate 0.0005 --max-strain 0.30 \
  --triclinic --halt-drop 2.0 --runpod --gpu
```

#### 本番実験結果
（実験実施後に記録予定）
