# Cu-Al界面強度シミュレーション 進捗管理

## 研究目的
異種金属(Cu-Al)接合界面の引張強度を分子動力学(MD)シミュレーションで評価する。

## 現在のフェーズ: プロトタイプ（理想界面）

### 方針決定 (2026-02-09)

**方向A（採用）: 理想シャープ界面の強度評価**
- 加熱・アニーリングを省略
- 0K構造緩和 → 短時間熱平衡化 → 引張試験
- 「理想界面の強度上限」として物理的に意味がある
- 理由: MDの時間スケール(ps)では固体拡散(600K, D~10⁻²⁰ m²/s)は起こりえない。
  加熱はノイズ因子になるだけで、合金化は再現できない。

**方向B（将来）: 金属間化合物界面のモデル化**
- 現実のCu-Al接合: Cu | Cu₉Al₄(γ) | CuAl(η) | CuAl₂(θ) | Al
- 各隣接相間の界面強度を個別に評価
- 前提条件: EAMポテンシャルが金属間化合物相を再現できるか要検証

---

## 完了した作業

### v1: 初期プロトタイプ (完了)
- [x] プロジェクト構造構築（ASE + LAMMPSワークフロー）
- [x] 3方位の界面構築: (100), (110), (111)
- [x] スーパーセルマッチング: 9Cu : 8Al（ミスマッチ ~0.28%）
- [x] 引張シミュレーション実行

### v2: 検証と修正 (完了)
- [x] **NPT `iso` → `aniso` 修正**（最重要修正）
  - `iso`は全軸均一スケーリング → 界面系の異方的応力を解消できない
  - (111)で初期応力 -3.07 GPa → 修正後 0.03 GPa
- [x] 平衡化時間延長: 12ps → 50ps
- [x] 原子ごとの応力テンソル出力追加（`compute stress/atom`）
- [x] 検証スクリプト作成（`scripts/verify_interface.py`）
- [x] EAMポテンシャル格子定数検証（Cu: 3.6147Å, Al: 4.0498Å）

### v2 結果
| 方位 | 最大応力 | ピークひずみ |
|------|---------|------------|
| (111) | 5.22 GPa | 6.2% |
| (100) | 3.82 GPa | 12.9% |
| (110) | 3.74 GPa | 9.1% |

---

### v3: 方向A — 理想界面の直接引張 (完了)
- [x] アニーリング(600K, 20ps) + 冷却(20ps) を削除
- [x] `fix box/relax aniso 0.0` + `minimize` で0K構造緩和（箱寸法も最適化）
- [x] 短時間NPT平衡化(10ps, 300K)で熱振動付与のみ
- [x] 引張試験はそのまま維持

### シミュレーションフロー (v3)
```
1. read_data → ポテンシャル設定
2. fix box/relax aniso 0.0 + minimize  (0K: 原子位置+箱寸法を同時緩和)
3. velocity create 300K → NPT aniso 10ps  (熱振動付与のみ)
4. fix deform z erate 0.01 + fix npt x y  (引張試験)
```

### v3 結果（layers=6, スラブ厚不足）
| 方位 | 最大応力 | ピークひずみ | 初期応力(σ_zz) |
|------|---------|------------|---------------|
| (100) | 3.65 GPa | 10.1% | +0.38 GPa |
| (111) | 3.14 GPa | 18.9% | -0.33 GPa |
| (110) | 2.61 GPa | 9.4% | -0.21 GPa |

※ layers=6ではLz~20Å（各材料~1nm）しかなく、バルク的挙動を再現できない。
  サイズ効果で強度が過大評価されていた。

### v3.1 結果（layers=24, 修正版）
| 方位 | Lz (Å) | 原子数 | 最大応力 | ピークひずみ | 初期σ_zz |
|------|--------|--------|---------|------------|----------|
| (100) | 90.6 | 3480 | 2.07 GPa | 13.0% | +0.03 GPa |
| (110) | 64.8 | 3480 | 1.94 GPa | 10.7% | -0.14 GPa |
| (111) | 104.2 | 6960 | 1.93 GPa | 6.3% | +0.01 GPa |

改善点:
- 初期応力がほぼゼロ（box/relax + 十分なバルク領域）
- 3方位の強度が近い値に収束（~2 GPa）→ サイズ効果が除去された
- 物理的に妥当な範囲の値

---

## 技術メモ

### EAMポテンシャル (AlCu.eam.alloy)
- Cu平衡格子定数: 3.6147 Å（ドライバ入力: 3.61, 差-0.13%）
- Al平衡格子定数: 4.0498 Å（ドライバ入力: 4.05, 差+0.01%）
- 金属間化合物の再現性: **未検証**

### pair_coeff順序
- ASE `sort()` 後: Al=Type1, Cu=Type2
- `pair_coeff * * AlCu.eam.alloy Al Cu` → 正しい

### 重要な知見
- `minimize` は原子位置のみ最適化（箱寸法不変）
- `fix box/relax` + `minimize` で箱寸法も同時最適化
- `stack(maxstrain=None)` はslab2(Al)をslab1(Cu)のセルに合わせる
- 界面系のNPTは必ず `aniso`（`iso` は致命的な残留応力を生む）
- LAMMPS metal単位: 圧力はbar, 1 GPa = 10000 bar
- `compute stress/atom` の出力は 応力×体積 [bar·Å³]

### (110)の注意点
- v2でΔLx=+11.5%の大きな箱変形が観測された
- 構造的な問題の可能性あり → v3で改善されるか確認

---

## 将来のTODO

### 短期
- [ ] v3結果の検証（初期応力、応力-ひずみ曲線）
- [ ] OVITOで原子応力分布の可視化
- [ ] ひずみ速度の感度解析（0.01→0.001/ps）

### 中期（方向B: 金属間化合物）
- [ ] EAMポテンシャルの金属間化合物再現性検証
  - CuAl₂(θ, C16構造), CuAl(η), Cu₉Al₄(γ-brass)
  - 生成エンタルピー、格子定数の文献値との比較
- [ ] 金属間化合物の結晶構造構築
- [ ] 各界面の引張試験: Al/CuAl₂, CuAl₂/CuAl, CuAl/Cu₉Al₄, Cu₉Al₄/Cu

### 長期
- [ ] 温度依存性の系統的調査
- [ ] システムサイズ収束性テスト
- [ ] 生産用計算（長い平衡化、低いひずみ速度）

---

## ファイル構成
```
simulations/CuAl_interface_strength/
├── PROGRESS.md              ← このファイル
├── CuAl_interface_strength.py  ← メインドライバ
├── compare_results.py          ← 結果比較プロット
├── Cu100_Al100_300.0K/         ← (100)方位の結果
├── Cu110_Al110_300.0K/         ← (110)方位の結果
└── Cu111_Al111_300.0K/         ← (111)方位の結果

scripts/
├── verify_interface.py         ← 界面検証スクリプト
├── analyze_lattice_strain.py   ← 格子ひずみ分析
└── check_eam_lattice.py        ← EAMポテンシャル格子定数確認
```
